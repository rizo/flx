# Atoms
a
    a

# Operators
# +
#     +
# -->
#     -->
# (++)
#     ((_) ++)

# Blocks
(a)
    ((_) a)
{a}
    ({_} a)
[a]
    ([_] a)


# Seq with delim
a,
    (, a)
a,b
    (, a b)
a,b,
    (, a b)
a,b,c
    (, a b c)
a,b,c,
    (, a b c)
(a,)
    ((_) (, a))
(a,b)
    ((_) (, a b))
(a,b,)
    ((_) (, a b))
(a,b,c)
    ((_) (, a b c))
(a,b,c,)
    ((_) (, a b c))
# , , ,
# a, ,
# , a,
# a, , b,

1; 2; 3, a
    (; 1 2 (, 3 a))

a, 1; b, 2; c, 3
    (; (, a 1) (, b 2) (, c 3))


# Delim seq + block

{a, b, c}
    ({_} (, a b c))

(a, b, c,)
    ((_) (, a b c))

# {;}


# Infix operators

-a
    (-_ a)

- a
    (-_ a)

- a + b
    (-_ (_+_ a b))

- a + -b
    (-_ (_+_ a (-_ b)))


# Infix operators

a+b
    (_+_ a b)

a-b
    (_-_ a b)

a+b+c
    (_+_ (_+_ a b) c)

a-b*c
    (_-_ a (_*_ b c))

a*b-c
    (_-_ (_*_ a b) c)

a: b

a : b : c

a + b + c

a: 1 + 2

a = 2 - 3

a.b

a.b.c

a 1 . b 2 . c 3


# Postfix operators

a!
    (_! a)

a!, b
    (, (_! a) b)

(a)!
    (_! ((_) a))

(a!)!
    (_! ((_) (_! a)))

# a! +

# a! + a
#     (_+_ (_! a) (_! a))


# Block with operators
(a + b)
    ((_) (_+_ a b))
(a + b * c)
    ((_) (_+_ a (_*_ b c)))
a + [b * c]
    (_+_ a ([_] (_*_ b c)))
({a + b} * c)
    ((_) (_*_ ({_} (_+_ a b)) c))

# a,b!

# Delimited seq with operators
a, b + c
    (, a (_+_ b c))

a - b, c
    (, (_-_ a b) c)

a - b, c * d
    (, (_-_ a b) (_*_ c d))


# Seq

a b c
    (_ a b c)

a b c + 1
    (_+_ (_ a b c) 1)

1 - a b c
    (_-_ 1 (_ a b c))

1 + a b c * 2
    (_+_ 1 (_*_ (_ a b c) 2))

1 * a b c + 2
    (_+_ (_*_ 1 (_ a b c)) 2)
